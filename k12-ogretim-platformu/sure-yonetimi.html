<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>S√ºre Y√∂netimi - StudyTracker</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/responsive.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="container">
        <!-- Header -->
            <div class="header-content">
                <div class="brand">
                </div>
                <nav class="nav">
                    <a href="dashboard.html"><i class="fas fa-home"></i> Dashboard</a>
                    <a href="deneme-analizi.html"><i class="fas fa-chart-line"></i> Deneme Analizi</a>
                    <a href="calisma-plani.html"><i class="fas fa-calendar-check"></i> √áalƒ±≈üma Planƒ±</a>
                    <a href="sure-yonetimi.html" class="active"><i class="fas fa-clock"></i> S√ºre Y√∂netimi</a>
                    <a href="notlarim.html"><i class="fas fa-sticky-note"></i> Notlarƒ±m</a>
                </nav>
                <div class="user-info">
                    <span id="userName">√ñƒürenci</span>
                    <button onclick="logout()" class="logout-btn">
                        <i class="fas fa-sign-out-alt"></i>
                    </button>
                </div>
            </div>
        </header>

        <!-- Main Content -->
        <main class="main-content">
            <div class="page-header">
                <h2><i class="fas fa-clock"></i> S√ºre Y√∂netimi & Pomodoro</h2>
                <p>Pomodoro tekniƒüi ile verimli √ßalƒ±≈üƒ±n ve s√ºrenizi optimize edin</p>
            </div>

            <!-- Pomodoro Timer -->
            <section class="pomodoro-section">
                <div class="timer-card">
                    <div class="timer-header">
                        <h3 id="sessionType">√áalƒ±≈üma Seansƒ±</h3>
                        <div class="session-info">
                            <span class="session-count">Seans: <span id="sessionNumber">1</span></span>
                            <div class="timer-mode">
                                <button class="mode-btn active" data-mode="pomodoro">Pomodoro (25dk)</button>
                                <button class="mode-btn" data-mode="short-break">Kƒ±sa Mola (5dk)</button>
                                <button class="mode-btn" data-mode="long-break">Uzun Mola (15dk)</button>
                            </div>
                        </div>
                    </div>
                    
                    <div class="timer-display">
                        <div class="circular-timer">
                            <svg class="progress-ring" width="280" height="280">
                                <circle class="progress-ring__circle-bg" cx="140" cy="140" r="120"></circle>
                                <circle class="progress-ring__circle" cx="140" cy="140" r="120"></circle>
                            </svg>
                            <div class="timer-content">
                                <div class="time-display" id="timeDisplay">25:00</div>
                                <div class="timer-controls">
                                    <button class="control-btn start" id="startBtn">
                                        <i class="fas fa-play"></i>
                                    </button>
                                    <button class="control-btn pause hidden" id="pauseBtn">
                                        <i class="fas fa-pause"></i>
                                    </button>
                                    <button class="control-btn reset" id="resetBtn">
                                        <i class="fas fa-stop"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="subject-selector">
                        <label for="studySubject">√áalƒ±≈üma Konusu:</label>
                        <select id="studySubject">
                            <option value="">Konu Se√ßiniz</option>
                            <option value="matematik">Matematik</option>
                            <option value="fizik">Fizik</option>
                            <option value="kimya">Kimya</option>
                            <option value="biyoloji">Biyoloji</option>
                            <option value="turkce">T√ºrk√ße</option>
                            <option value="tarih">Tarih</option>
                            <option value="cografya">Coƒürafya</option>
                            <option value="ingilizce">ƒ∞ngilizce</option>
                            <option value="other">Diƒüer</option>
                        </select>
                        <input type="text" id="customSubject" placeholder="√ñzel konu yazƒ±n..." class="hidden">
                    </div>

                    <div class="timer-settings">
                        <h4>S√ºre Ayarlarƒ±</h4>
                        <div class="settings-grid">
                            <div class="setting-item">
                                <label for="pomodoroTime">Pomodoro (dakika)</label>
                                <input type="number" id="pomodoroTime" value="25" min="1" max="60">
                            </div>
                            <div class="setting-item">
                                <label for="shortBreakTime">Kƒ±sa Mola (dakika)</label>
                                <input type="number" id="shortBreakTime" value="5" min="1" max="30">
                            </div>
                            <div class="setting-item">
                                <label for="longBreakTime">Uzun Mola (dakika)</label>
                                <input type="number" id="longBreakTime" value="15" min="1" max="60">
                            </div>
                            <div class="setting-item">
                                <label>
                                    <input type="checkbox" id="autoStart"> Otomatik ba≈ülat
                                </label>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Today's Stats -->
            <section class="daily-stats">
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-icon primary">
                            <i class="fas fa-clock"></i>
                        </div>
                        <div class="stat-content">
                            <h3 id="todayTime">0</h3>
                            <p>Bug√ºn √áalƒ±≈ütƒ±ƒüƒ±m S√ºre</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon success">
                            <i class="fas fa-check-circle"></i>
                        </div>
                        <div class="stat-content">
                            <h3 id="todaySessions">0</h3>
                            <p>Tamamlanan Seans</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon warning">
                            <i class="fas fa-target"></i>
                        </div>
                        <div class="stat-content">
                            <h3 id="dailyGoalProgress">0%</h3>
                            <p>G√ºnl√ºk Hedef</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon info">
                            <i class="fas fa-fire"></i>
                        </div>
                        <div class="stat-content">
                            <h3 id="streak">0</h3>
                            <p>Ardƒ±≈üƒ±k G√ºn</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Study Log -->
            <section class="study-log">
                <div class="card">
                    <div class="card-header">
                        <h3><i class="fas fa-list"></i> Bug√ºn√ºn √áalƒ±≈üma Kayƒ±tlarƒ±</h3>
                        <div class="log-filters">
                            <select id="logFilter">
                                <option value="today">Bug√ºn</option>
                                <option value="week">Bu Hafta</option>
                                <option value="month">Bu Ay</option>
                            </select>
                        </div>
                    </div>
                    <div class="log-list" id="studyLog">
                        <!-- Dinamik olarak olu≈üturulacak -->
                    </div>
                </div>
            </section>

            <!-- Goals & Settings -->
            <section class="goals-settings">
                <div class="goals-card">
                    <h3><i class="fas fa-bullseye"></i> G√ºnl√ºk Hedefler</h3>
                    <div class="goal-item">
                        <label for="dailyTimeGoal">G√ºnl√ºk √áalƒ±≈üma S√ºresi Hedefi (saat)</label>
                        <input type="number" id="dailyTimeGoal" value="4" min="1" max="12" step="0.5">
                    </div>
                    <div class="goal-item">
                        <label for="dailySessionGoal">G√ºnl√ºk Seans Hedefi</label>
                        <input type="number" id="dailySessionGoal" value="8" min="1" max="20">
                    </div>
                    <button class="btn btn-primary" id="saveGoals">
                        <i class="fas fa-save"></i> Hedefleri Kaydet
                    </button>
                </div>
            </section>
        </main>
    </div>

    <!-- Audio files for notifications -->
    <audio id="startSound" preload="auto">
        <source src="data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp66hVFApGn+D1xm0gBzN+zPLhkz8KElyx5emeUxIEYrrz359mGAg=" type="audio/wav">
    </audio>
    <audio id="endSound" preload="auto">
        <source src="data:audio/wav;base64,UklGRhIEAABXQVZFZm10IBAAAAABAAEARKwAAIhYAQACABAAZGF0Ye4DAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp66hVFApGn+D1xm0gBzN+zPLhkz8KElyx5emeUxIEYrrz359mGAg=" type="audio/wav">
    </audio>

    <script>
        let timerState = {
            isRunning: false,
            isPaused: false,
            mode: 'pomodoro', // pomodoro, short-break, long-break
            timeLeft: 25 * 60, // in seconds
            totalTime: 25 * 60,
            sessionCount: 1,
            currentSubject: ''
        };

        let settings = {
            pomodoroTime: 25,
            shortBreakTime: 5,
            longBreakTime: 15,
            autoStart: false,
            dailyTimeGoal: 4,
            dailySessionGoal: 8
        };

        let studyData = JSON.parse(localStorage.getItem('studyData') || '{}');
        let todayKey = new Date().toISOString().split('T')[0];

        // Initialize today's data if not exists
        if (!studyData[todayKey]) {
            studyData[todayKey] = {
                sessions: [],
                totalTime: 0,
                completedSessions: 0
            };
        }

        // Load user info and settings
        function loadUserInfo() {
            const userData = JSON.parse(localStorage.getItem('eduplatform_user') || sessionStorage.getItem('eduplatform_user') || '{}');
            if (userData.username) {
                document.getElementById('userName').textContent = userData.username;
            }
            
            // Load settings
            const savedSettings = JSON.parse(localStorage.getItem('pomodoroSettings') || '{}');
            settings = {...settings, ...savedSettings};
            updateSettingsUI();
        }

        // Update settings UI
        function updateSettingsUI() {
            document.getElementById('pomodoroTime').value = settings.pomodoroTime;
            document.getElementById('shortBreakTime').value = settings.shortBreakTime;
            document.getElementById('longBreakTime').value = settings.longBreakTime;
            document.getElementById('autoStart').checked = settings.autoStart;
            document.getElementById('dailyTimeGoal').value = settings.dailyTimeGoal;
            document.getElementById('dailySessionGoal').value = settings.dailySessionGoal;
        }

        // Timer functionality
        let timerInterval;
        const progressCircle = document.querySelector('.progress-ring__circle');
        const radius = progressCircle.r.baseVal.value;
        const circumference = radius * 2 * Math.PI;
        
        progressCircle.style.strokeDasharray = `${circumference} ${circumference}`;
        progressCircle.style.strokeDashoffset = circumference;

        function setProgress(percent) {
            const offset = circumference - (percent / 100) * circumference;
            progressCircle.style.strokeDashoffset = offset;
        }

        function formatTime(seconds) {
            const minutes = Math.floor(seconds / 60);
            const remainingSeconds = seconds % 60;
            return `${minutes.toString().padStart(2, '0')}:${remainingSeconds.toString().padStart(2, '0')}`;
        }

        function updateDisplay() {
            document.getElementById('timeDisplay').textContent = formatTime(timerState.timeLeft);
            const progress = ((timerState.totalTime - timerState.timeLeft) / timerState.totalTime) * 100;
            setProgress(progress);
        }

        function playSound(soundId) {
            const audio = document.getElementById(soundId);
            audio.currentTime = 0;
            audio.play().catch(e => console.log('Could not play sound:', e));
        }

        function startTimer() {
            if (timerState.isPaused) {
                timerState.isPaused = false;
            } else {
                // Starting fresh
                const subject = document.getElementById('studySubject').value || 
                              document.getElementById('customSubject').value;
                if (!subject && timerState.mode === 'pomodoro') {
                    alert('L√ºtfen bir √ßalƒ±≈üma konusu se√ßin!');
                    return;
                }
                timerState.currentSubject = subject;
            }
            
            timerState.isRunning = true;
            document.getElementById('startBtn').classList.add('hidden');
            document.getElementById('pauseBtn').classList.remove('hidden');
            
            playSound('startSound');
            
            timerInterval = setInterval(() => {
                timerState.timeLeft--;
                updateDisplay();
                
                if (timerState.timeLeft <= 0) {
                    completeSession();
                }
            }, 1000);
        }

        function pauseTimer() {
            timerState.isRunning = false;
            timerState.isPaused = true;
            clearInterval(timerInterval);
            
            document.getElementById('startBtn').classList.remove('hidden');
            document.getElementById('pauseBtn').classList.add('hidden');
        }

        function resetTimer() {
            timerState.isRunning = false;
            timerState.isPaused = false;
            clearInterval(timerInterval);
            
            const mode = timerState.mode;
            timerState.timeLeft = getModeTime(mode) * 60;
            timerState.totalTime = timerState.timeLeft;
            
            updateDisplay();
            
            document.getElementById('startBtn').classList.remove('hidden');
            document.getElementById('pauseBtn').classList.add('hidden');
        }

        function getModeTime(mode) {
            switch(mode) {
                case 'pomodoro': return settings.pomodoroTime;
                case 'short-break': return settings.shortBreakTime;
                case 'long-break': return settings.longBreakTime;
                default: return 25;
            }
        }

        function completeSession() {
            clearInterval(timerInterval);
            timerState.isRunning = false;
            playSound('endSound');
            
            // Save session data
            const session = {
                type: timerState.mode,
                subject: timerState.currentSubject,
                duration: timerState.totalTime / 60,
                completedAt: new Date().toISOString(),
                timestamp: Date.now()
            };
            
            studyData[todayKey].sessions.push(session);
            studyData[todayKey].totalTime += timerState.totalTime / 60;
            
            if (timerState.mode === 'pomodoro') {
                studyData[todayKey].completedSessions++;
                timerState.sessionCount++;
                
                // Auto switch to break
                if (timerState.sessionCount % 4 === 1) {
                    switchMode('long-break');
                } else {
                    switchMode('short-break');
                }
                
                showNotification('Pomodoro tamamlandƒ±! üçÖ', `${timerState.currentSubject} konusunda ${settings.pomodoroTime} dakika √ßalƒ±≈ütƒ±nƒ±z.`);
            } else {
                // Break completed, switch back to pomodoro
                switchMode('pomodoro');
                showNotification('Mola bitti! üí™', '√áalƒ±≈ümaya devam etme zamanƒ±!');
            }
            
            localStorage.setItem('studyData', JSON.stringify(studyData));
            updateStats();
            updateStudyLog();
            
            // Auto start if enabled
            if (settings.autoStart) {
                setTimeout(() => {
                    startTimer();
                }, 2000);
            }
        }

        function switchMode(newMode) {
            timerState.mode = newMode;
            timerState.timeLeft = getModeTime(newMode) * 60;
            timerState.totalTime = timerState.timeLeft;
            
            // Update UI
            document.querySelectorAll('.mode-btn').forEach(btn => {
                btn.classList.remove('active');
                if (btn.dataset.mode === newMode) {
                    btn.classList.add('active');
                }
            });
            
            const sessionTypes = {
                'pomodoro': '√áalƒ±≈üma Seansƒ±',
                'short-break': 'Kƒ±sa Mola',
                'long-break': 'Uzun Mola'
            };
            
            document.getElementById('sessionType').textContent = sessionTypes[newMode];
            document.getElementById('sessionNumber').textContent = timerState.sessionCount;
            
            updateDisplay();
            resetTimer();
        }

        // Event listeners
        document.getElementById('startBtn').addEventListener('click', startTimer);
        document.getElementById('pauseBtn').addEventListener('click', pauseTimer);
        document.getElementById('resetBtn').addEventListener('click', resetTimer);

        document.querySelectorAll('.mode-btn').forEach(btn => {
            btn.addEventListener('click', () => {
                if (!timerState.isRunning) {
                    switchMode(btn.dataset.mode);
                }
            });
        });

        document.getElementById('studySubject').addEventListener('change', function() {
            const customInput = document.getElementById('customSubject');
            if (this.value === 'other') {
                customInput.classList.remove('hidden');
                customInput.focus();
            } else {
                customInput.classList.add('hidden');
            }
        });

        // Settings event listeners
        ['pomodoroTime', 'shortBreakTime', 'longBreakTime'].forEach(id => {
            document.getElementById(id).addEventListener('change', function() {
                settings[id] = parseInt(this.value);
                localStorage.setItem('pomodoroSettings', JSON.stringify(settings));
                
                if (id === 'pomodoroTime' && timerState.mode === 'pomodoro' && !timerState.isRunning) {
                    resetTimer();
                }
            });
        });

        document.getElementById('autoStart').addEventListener('change', function() {
            settings.autoStart = this.checked;
            localStorage.setItem('pomodoroSettings', JSON.stringify(settings));
        });

        document.getElementById('saveGoals').addEventListener('click', function() {
            settings.dailyTimeGoal = parseFloat(document.getElementById('dailyTimeGoal').value);
            settings.dailySessionGoal = parseInt(document.getElementById('dailySessionGoal').value);
            localStorage.setItem('pomodoroSettings', JSON.stringify(settings));
            showNotification('Hedefler kaydedildi! üéØ', 'G√ºnl√ºk hedefleriniz g√ºncellendi.');
            updateStats();
        });

        // Update statistics
        function updateStats() {
            const today = studyData[todayKey];
            const totalMinutes = Math.round(today.totalTime);
            const hours = Math.floor(totalMinutes / 60);
            const minutes = totalMinutes % 60;
            
            document.getElementById('todayTime').textContent = 
                hours > 0 ? `${hours}s ${minutes}dk` : `${minutes}dk`;
            document.getElementById('todaySessions').textContent = today.completedSessions;
            
            const goalProgress = Math.round((today.totalTime / 60) / settings.dailyTimeGoal * 100);
            document.getElementById('dailyGoalProgress').textContent = `${Math.min(goalProgress, 100)}%`;
            
            // Calculate streak
            let streak = 0;
            const days = Object.keys(studyData).sort().reverse();
            for (let day of days) {
                if (studyData[day].completedSessions > 0) {
                    streak++;
                } else {
                    break;
                }
            }
            document.getElementById('streak').textContent = streak;
        }

        // Update study log
        function updateStudyLog() {
            const filter = document.getElementById('logFilter').value;
            const container = document.getElementById('studyLog');
            
            let sessions = [];
            const now = new Date();
            
            if (filter === 'today') {
                sessions = studyData[todayKey]?.sessions || [];
            } else {
                // Collect sessions from multiple days
                const days = Object.keys(studyData);
                for (let day of days) {
                    const dayDate = new Date(day);
                    const diffDays = Math.floor((now - dayDate) / (1000 * 60 * 60 * 24));
                    
                    if ((filter === 'week' && diffDays <= 7) || 
                        (filter === 'month' && diffDays <= 30)) {
                        sessions = sessions.concat(studyData[day].sessions.map(s => ({...s, date: day})));
                    }
                }
            }
            
            sessions.sort((a, b) => new Date(b.completedAt) - new Date(a.completedAt));
            
            if (sessions.length === 0) {
                container.innerHTML = '<div class="no-data">Hen√ºz √ßalƒ±≈üma kaydƒ± bulunmuyor.</div>';
                return;
            }
            
            container.innerHTML = sessions.map(session => {
                const date = new Date(session.completedAt);
                const typeIcons = {
                    'pomodoro': 'üçÖ',
                    'short-break': '‚òï',
                    'long-break': 'üõå'
                };
                
                const typeNames = {
                    'pomodoro': '√áalƒ±≈üma',
                    'short-break': 'Kƒ±sa Mola',
                    'long-break': 'Uzun Mola'
                };
                
                return `
                    <div class="log-item ${session.type}">
                        <div class="log-icon">${typeIcons[session.type]}</div>
                        <div class="log-details">
                            <h4>${typeNames[session.type]}</h4>
                            <p>${session.subject || 'Genel √ßalƒ±≈üma'}</p>
                            <div class="log-meta">
                                <span class="duration">${Math.round(session.duration)}dk</span>
                                <span class="time">${date.toLocaleTimeString('tr-TR', {hour: '2-digit', minute: '2-digit'})}</span>
                                ${session.date ? `<span class="date">${new Date(session.date).toLocaleDateString('tr-TR')}</span>` : ''}
                            </div>
                        </div>
                    </div>
                `;
            }).join('');
        }

        // Notification function
        function showNotification(title, message) {
            if ('Notification' in window && Notification.permission === 'granted') {
                new Notification(title, {
                    body: message,
                    icon: '/favicon.ico'
                });
            } else {
                // Fallback to custom notification
                const notification = document.createElement('div');
                notification.className = 'custom-notification';
                notification.innerHTML = `
                    <div class="notification-content">
                        <h4>${title}</h4>
                        <p>${message}</p>
                    </div>
                `;
                document.body.appendChild(notification);
                
                setTimeout(() => {
                    notification.classList.add('show');
                }, 100);
                
                setTimeout(() => {
                    notification.remove();
                }, 4000);
            }
        }

        // Request notification permission
        function requestNotificationPermission() {
            if ('Notification' in window && Notification.permission === 'default') {
                Notification.requestPermission();
            }
        }

        // Log filter event listener
        document.getElementById('logFilter').addEventListener('change', updateStudyLog);

        // Logout function
        function logout() {
            localStorage.removeItem('eduplatform_user');
            sessionStorage.removeItem('eduplatform_user');
            window.location.href = 'login.html';
        }

        // Initialize page
        document.addEventListener('DOMContentLoaded', function() {
            loadUserInfo();
            updateDisplay();
            updateStats();
            updateStudyLog();
            requestNotificationPermission();
        });

        // Prevent page refresh during active timer
        window.addEventListener('beforeunload', function(e) {
            if (timerState.isRunning) {
                e.preventDefault();
                e.returnValue = 'Timer aktif! Sayfayƒ± kapatmak istediƒüinizden emin misiniz?';
            }
        });
    </script>

    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background: #f8fafc;
            color: #334155;
            line-height: 1.6;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* Header */
        .header {
            background: white;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .header-content {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 15px 0;
        }

        .brand {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .brand i {
            font-size: 2rem;
            color: #667eea;
        }

        .brand h1 {
            color: #334155;
            font-size: 1.5rem;
        }

        .nav {
            display: flex;
            gap: 20px;
        }

        .nav a {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 8px 16px;
            color: #64748b;
            text-decoration: none;
            border-radius: 8px;
            transition: all 0.3s ease;
        }

        .nav a:hover,
        .nav a.active {
            background: rgba(102, 126, 234, 0.1);
            color: #667eea;
        }

        .user-info {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .logout-btn {
            background: none;
            border: none;
            color: #64748b;
            cursor: pointer;
            padding: 8px;
            border-radius: 6px;
            transition: all 0.3s ease;
        }

        .logout-btn:hover {
            background: #fef2f2;
            color: #dc2626;
        }

        /* Main Content */
        .main-content {
            padding: 30px 0;
        }

        .page-header {
            text-align: center;
            margin-bottom: 40px;
        }

        .page-header h2 {
            color: #334155;
            font-size: 2.5rem;
            margin-bottom: 10px;
        }

        .page-header h2 i {
            color: #667eea;
            margin-right: 10px;
        }

        .page-header p {
            color: #64748b;
            font-size: 1.1rem;
        }

        /* Timer Card */
        .timer-card {
            background: white;
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            margin-bottom: 40px;
            text-align: center;
        }

        .timer-header {
            margin-bottom: 40px;
        }

        .timer-header h3 {
            font-size: 1.8rem;
            color: #334155;
            margin-bottom: 20px;
        }

        .session-info {
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 20px;
        }

        .session-count {
            font-size: 1.1rem;
            color: #64748b;
        }

        .timer-mode {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }

        .mode-btn {
            padding: 8px 16px;
            border: 2px solid #e5e7eb;
            background: white;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.9rem;
        }

        .mode-btn.active,
        .mode-btn:hover {
            border-color: #667eea;
            background: #667eea;
            color: white;
        }

        .circular-timer {
            position: relative;
            margin: 40px auto;
        }

        .progress-ring {
            transform: rotate(-90deg);
        }

        .progress-ring__circle-bg {
            fill: none;
            stroke: #f1f5f9;
            stroke-width: 8;
        }

        .progress-ring__circle {
            fill: none;
            stroke: #667eea;
            stroke-width: 8;
            stroke-linecap: round;
            transition: stroke-dashoffset 0.5s ease;
        }

        .timer-content {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            text-align: center;
        }

        .time-display {
            font-size: 3.5rem;
            font-weight: 700;
            color: #334155;
            margin-bottom: 20px;
            font-variant-numeric: tabular-nums;
        }

        .timer-controls {
            display: flex;
            gap: 15px;
            justify-content: center;
        }

        .control-btn {
            width: 50px;
            height: 50px;
            border: none;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            transition: all 0.3s ease;
        }

        .control-btn.start {
            background: #22c55e;
            color: white;
        }

        .control-btn.pause {
            background: #f59e0b;
            color: white;
        }

        .control-btn.reset {
            background: #ef4444;
            color: white;
        }

        .control-btn:hover {
            transform: scale(1.1);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .hidden {
            display: none !important;
        }

        .subject-selector {
            margin: 30px 0;
            text-align: left;
        }

        .subject-selector label {
            display: block;
            font-weight: 500;
            margin-bottom: 10px;
            color: #374151;
        }

        .subject-selector select,
        .subject-selector input {
            width: 100%;
            padding: 12px;
            border: 2px solid #e5e7eb;
            border-radius: 8px;
            font-size: 1rem;
        }

        .subject-selector input {
            margin-top: 10px;
        }

        .timer-settings {
            text-align: left;
            margin-top: 30px;
            padding-top: 30px;
            border-top: 1px solid #e5e7eb;
        }

        .timer-settings h4 {
            color: #334155;
            margin-bottom: 20px;
        }

        .settings-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
        }

        .setting-item label {
            display: block;
            font-weight: 500;
            margin-bottom: 8px;
            color: #374151;
        }

        .setting-item input {
            width: 100%;
            padding: 8px 12px;
            border: 2px solid #e5e7eb;
            border-radius: 6px;
        }

        .setting-item input[type="checkbox"] {
            width: auto;
            margin-right: 8px;
        }

        /* Stats Grid */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 40px;
        }

        .stat-card {
            background: white;
            border-radius: 15px;
            padding: 25px;
            display: flex;
            align-items: center;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
            transition: all 0.3s ease;
        }

        .stat-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
        }

        .stat-icon {
            width: 60px;
            height: 60px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            margin-right: 20px;
        }

        .stat-icon.primary {
            background: rgba(102, 126, 234, 0.1);
            color: #667eea;
        }

        .stat-icon.success {
            background: rgba(34, 197, 94, 0.1);
            color: #22c55e;
        }

        .stat-icon.warning {
            background: rgba(245, 158, 11, 0.1);
            color: #f59e0b;
        }

        .stat-icon.info {
            background: rgba(59, 130, 246, 0.1);
            color: #3b82f6;
        }

        .stat-content h3 {
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: 5px;
            color: #334155;
        }

        .stat-content p {
            color: #64748b;
        }

        /* Cards */
        .card {
            background: white;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.08);
            margin-bottom: 30px;
        }

        .card-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid #e5e7eb;
        }

        .card-header h3 {
            color: #334155;
            display: flex;
            align-items: center;
            gap: 10px;
            margin: 0;
        }

        .card-header h3 i {
            color: #667eea;
        }

        .log-filters select {
            padding: 8px 12px;
            border: 2px solid #e5e7eb;
            border-radius: 6px;
        }

        /* Study Log */
        .log-item {
            display: flex;
            align-items: center;
            padding: 15px 0;
            border-bottom: 1px solid #f1f5f9;
        }

        .log-item:last-child {
            border-bottom: none;
        }

        .log-icon {
            font-size: 2rem;
            margin-right: 15px;
            width: 50px;
            text-align: center;
        }

        .log-details h4 {
            color: #334155;
            margin-bottom: 5px;
        }

        .log-details p {
            color: #64748b;
            font-size: 0.9rem;
            margin-bottom: 8px;
        }

        .log-meta {
            display: flex;
            gap: 15px;
            font-size: 0.8rem;
            color: #94a3b8;
        }

        .duration {
            background: rgba(102, 126, 234, 0.1);
            color: #667eea;
            padding: 2px 8px;
            border-radius: 4px;
        }

        /* Goals */
        .goals-card {
            background: white;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.08);
        }

        .goals-card h3 {
            color: #334155;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .goals-card h3 i {
            color: #667eea;
        }

        .goal-item {
            margin-bottom: 20px;
        }

        .goal-item label {
            display: block;
            font-weight: 500;
            margin-bottom: 8px;
            color: #374151;
        }

        .goal-item input {
            width: 100%;
            padding: 12px;
            border: 2px solid #e5e7eb;
            border-radius: 8px;
            font-size: 1rem;
        }

        /* Button */
        .btn {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 12px 24px;
            border: none;
            border-radius: 8px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
        }

        .btn-primary {
            background: #667eea;
            color: white;
        }

        .btn-primary:hover {
            background: #5a67d8;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }

        /* Custom Notification */
        .custom-notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background: white;
            border-radius: 12px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.15);
            padding: 20px;
            max-width: 350px;
            transform: translateX(100%);
            transition: all 0.3s ease;
            z-index: 1000;
            border-left: 4px solid #667eea;
        }

        .custom-notification.show {
            transform: translateX(0);
        }

        .notification-content h4 {
            color: #334155;
            margin-bottom: 8px;
        }

        .notification-content p {
            color: #64748b;
            font-size: 0.9rem;
        }

        .no-data {
            text-align: center;
            padding: 40px;
            color: #64748b;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .container {
                padding: 0 15px;
            }

            .header-content {
                flex-direction: column;
                gap: 15px;
            }

            .nav {
                flex-wrap: wrap;
                justify-content: center;
            }

            .timer-card {
                padding: 30px 20px;
            }

            .session-info {
                flex-direction: column;
                gap: 15px;
            }

            .time-display {
                font-size: 2.5rem;
            }

            .timer-mode {
                justify-content: center;
            }

            .settings-grid {
                grid-template-columns: 1fr;
            }

            .log-meta {
                flex-direction: column;
                gap: 5px;
            }
        }
    </style>
</body>
</html>